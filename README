Study project up on https://github.com/teru01/toytcp 
Currently most of the code comes from the above repo as they are.